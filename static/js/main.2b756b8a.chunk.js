(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(t,e,n){t.exports=n(67)},67:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(15),i=n.n(c),o=n(13),u=n.n(o),s=n(16),l=n(3),p=n(4),f=n(32),h=n.n(f),d=function(){function t(){Object(l.a)(this,t)}return Object(p.a)(t,null,[{key:"getWeatherForecast",value:function(){var t=Object(s.a)(u.a.mark(function t(){var e;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("https://api.openweathermap.org/data/2.5/forecast?q=Edinburgh,uk&APPID=5902e987084211ae3f2fe0ed9fbafca9&units=metric");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),m=function(){function t(){Object(l.a)(this,t)}return Object(p.a)(t,null,[{key:"getDayName",value:function(t){return new Date(t).toLocaleDateString("EN-GB",{weekday:"long"})}},{key:"processForecastData",value:function(e){var n=e.list,r=[],a=[],c="",i={city:"",day:"",degrees:0,description:"",hour:"",icon:"",max:0,min:0,rain:0,wind:0,item:{}},o=[];return n.map(function(n){c=e.city.name+" "+e.city.country;var u=t.getDayName(n.dt_txt),s=t.getFormattedForecastItem(n,c);""===i.city&&(i=s),void 0===r[u]&&(r[u]=!0,a.push(s)),o.length<=8&&o.push(s)}),{weeklyForecastFormatted:a,cityName:c,currentWeather:i,HourlyForecastSummaryList:o}}},{key:"getHourlyForecast",value:function(t,e){var n=this,r=e.city,a=[],c=0;return t.some(function(t){if(t.dt==e.item.dt?(a.push(n.getFormattedForecastItem(t,r)),c++):c>0&&c<=8&&(a.push(n.getFormattedForecastItem(t,r)),c++),c>8)return!0}),a}},{key:"getFormattedForecastItem",value:function(t,e){var n=t.dt_txt.split(" ")[1].slice(0,-3);return{day:this.getDayName(t.dt_txt),city:e,rain:t.rain&&t.rain["3h"]?t.rain["3h"]:0,icon:t.weather[0].icon,description:t.weather[0].description,hour:n,max:Math.round(t.main.temp_max),min:Math.round(t.main.temp_min),wind:Math.round(t.wind.speed),degrees:Math.round(t.main.temp),item:t}}}]),t}(),y=function(t,e){return function(n){n({type:"UPDATE_CURRENT_FORECAST_START"}),n({type:"UPDATE_CURRENT_FORECAST_FULFILLED",payload:{current:m.getFormattedForecastItem(t,e)}})}},b=n(9),O=n(6),v=n(5),j=n(7),g=n(1),x=n(2);function E(){var t=Object(g.a)(["\n  display: flex;\n  width: 100px;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n"]);return E=function(){return t},t}function w(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 150px;\n"]);return w=function(){return t},t}function F(){var t=Object(g.a)(["\n  font-size: 20px;\n"]);return F=function(){return t},t}function _(){var t=Object(g.a)(["\n  font-size: 30px;\n  font-weight: 100;\n"]);return _=function(){return t},t}function k(){var t=Object(g.a)(["\n  color: rgb(33, 33, 33);\n  font-family: arial, helvetica, sans-serif;\n  font-size: 64px;\n"]);return k=function(){return t},t}function C(){var t=Object(g.a)(["\n  color: rgb(135, 135, 135);\n  font-family: arial, sans-serif;\n"]);return C=function(){return t},t}function T(){var t=Object(g.a)(["\n  width: 50px;\n  height: 50px;\n"]);return T=function(){return t},t}var L=x.a.img(T()),S=x.a.text(C()),D=x.a.text(k()),N=Object(x.a)(S)(_()),R=Object(x.a)(S)(F()),I=x.a.div(w()),A=x.a.div(E()),U=function(t){function e(){return Object(l.a)(this,e),Object(O.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this.props,e=t.cityName,n=t.day,r=t.description,c=t.icon,i=t.degrees,o="https://openweathermap.org/img/w/"+c+".png";return a.a.createElement(I,null,a.a.createElement(N,null,e),a.a.createElement(R,null,n),a.a.createElement(R,null,r),a.a.createElement(A,null,a.a.createElement(L,{src:o}),a.a.createElement(D,null,i)))}}]),e}(r.Component);function W(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 150px;\n"]);return W=function(){return t},t}function z(){var t=Object(g.a)(["\n  color: rgb(135, 135, 135);\n  font-family: arial, helvetica, sans-serif;\n  font-size: 20px;\n"]);return z=function(){return t},t}var H=x.a.text(z()),M=x.a.div(W()),P=function(t){function e(){return Object(l.a)(this,e),Object(O.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this.props,e=t.rain,n=t.wind;return a.a.createElement(M,null,a.a.createElement(H,null,"Rain in last 3h: ",e," mm"),a.a.createElement(H,null,"Wind Speed: ",n," mph"))}}]),e}(r.Component);function X(){var t=Object(g.a)([""]);return X=function(){return t},t}function B(){var t=Object(g.a)([""]);return B=function(){return t},t}function J(){var t=Object(g.a)(["\n  font-size: 11px;\n  color: rgb(34, 34, 34);\n  border: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return J=function(){return t},t}function V(){var t=Object(g.a)([""]);return V=function(){return t},t}var q=x.a.div(V()),G=x.a.button(J()),$=x.a.text(B()),K=x.a.text(X()),Q=function(t){function e(){return Object(l.a)(this,e),Object(O.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this,e=this.props.forecast,n=e.item,r=e.city,c=e.degrees,i=e.hour;return a.a.createElement(q,null,a.a.createElement(G,{onClick:function(){t.props.updateCurrentForecast(n,r)}},a.a.createElement($,null,c),a.a.createElement("hr",null),a.a.createElement(K,null,i)))}}]),e}(r.Component),Y=Object(b.b)(function(t){return{city:t.forecast.city,current:t.forecast.current}},function(t){return{updateCurrentForecast:function(e,n){return t(y(e,n))}}})(Q);function Z(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-top: 10px;\n"]);return Z=function(){return t},t}var tt=x.a.div(Z()),et=function(t){function e(){return Object(l.a)(this,e),Object(O.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=0,e=this.props.list.map(function(e){return t++,a.a.createElement(Y,{key:t,forecast:e})});return a.a.createElement(tt,null,e)}}]),e}(r.Component);function nt(){var t=Object(g.a)(["\n  width: 50px;\n  height: 50px;\n"]);return nt=function(){return t},t}function rt(){var t=Object(g.a)(["\n  color: rgb(186, 186, 186);\n"]);return rt=function(){return t},t}function at(){var t=Object(g.a)(["\n  color: rgb(135, 135, 135);\n  padding-right: 5px;\n"]);return at=function(){return t},t}function ct(){var t=Object(g.a)(["\n  font-size: 18px;\n  color: #bababa;\n  padding-top: 7px;\n  line-height: 15px;\n  text-align: center;\n  font-weight: 400;\n"]);return ct=function(){return t},t}function it(){var t=Object(g.a)(["\n  font-size: 13px;\n  font-weight: 400;\n  line-height: 15px;\n  font-family: arial, sans-serif;\n"]);return it=function(){return t},t}function ot(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]);return ot=function(){return t},t}function ut(){var t=Object(g.a)(["\n  color: rgb(34, 34, 34);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return ut=function(){return t},t}function st(){var t=Object(g.a)(["\n  height: 90px;\n  margin-top: 10px;\n  border: 1px;\n"]);return st=function(){return t},t}var lt=x.a.div(st()),pt=x.a.button(ut()),ft=x.a.div(ot()),ht=x.a.text(it()),dt=x.a.text(ct()),mt=Object(x.a)(ht)(at()),yt=Object(x.a)(ht)(rt()),bt=x.a.img(nt()),Ot=function(t){function e(){return Object(l.a)(this,e),Object(O.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this,e=this.props.forecast,n=e.day,r=e.icon,c=e.max,i=e.min,o=e.item,u=e.city,s="http://openweathermap.org/img/w/"+r+".png";return a.a.createElement(lt,null,a.a.createElement(pt,{onClick:function(){t.props.updateCurrentForecast(o,u)}},a.a.createElement(dt,null,n.substring(0,3)),a.a.createElement(bt,{src:s}),a.a.createElement(ft,null,a.a.createElement(mt,null,i,"\xb0"),a.a.createElement(yt,null,c,"\xb0"))))}}]),e}(r.Component),vt=Object(b.b)(function(t){return{city:t.forecast.city,current:t.forecast.current}},function(t){return{updateCurrentForecast:function(e,n){return t(y(e,n))}}})(Ot);function jt(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]);return jt=function(){return t},t}var gt=x.a.div(jt()),xt=function(t){function e(){return Object(l.a)(this,e),Object(O.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t,e=0;return this.props.list&&(t=this.props.list.map(function(t){return e++,a.a.createElement(vt,{key:e,forecast:t})})),a.a.createElement(gt,null,t)}}]),e}(r.Component);function Et(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return Et=function(){return t},t}function wt(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]);return wt=function(){return t},t}function Ft(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Ft=function(){return t},t}function _t(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 20px;\n  width: 500px;\n"]);return _t=function(){return t},t}var kt=x.a.div(_t()),Ct=x.a.div(Ft()),Tt=x.a.div(wt()),Lt=x.a.div(Et()),St=function(t){function e(){return Object(l.a)(this,e),Object(O.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(p.a)(e,[{key:"componentWillMount",value:function(){this.props.fetchForecastList()}},{key:"render",value:function(){return a.a.createElement(kt,null,a.a.createElement(Ct,null,a.a.createElement(Tt,null,this.props.current&&this.props.list.length>0&&a.a.createElement(U,{cityName:this.props.current.city,day:this.props.current.day,description:this.props.current.description,icon:this.props.current.icon,degrees:this.props.current.degrees}),this.props.current&&this.props.list.length>0&&a.a.createElement(P,{rain:this.props.current.rain,wind:this.props.current.wind})),this.props&&this.props.list.length>0&&a.a.createElement(et,{list:this.props.hourly})),a.a.createElement(Lt,null,this.props&&this.props.list.length>0&&a.a.createElement(xt,{list:this.props.weekly})))}}]),e}(r.Component),Dt=Object(b.b)(function(t){return{list:t.forecast.list,city:t.forecast.city,weekly:t.forecast.weeklyForecast,hourly:t.forecast.hourlyForecast,current:t.forecast.current}},function(t){return{fetchForecastList:function(){return t(function(){var t=Object(s.a)(u.a.mark(function t(e){var n,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"FETCH_FORECAST_LIST_START"}),t.next=3,d.getWeatherForecast();case 3:n=t.sent,r=m.processForecastData(n),e({type:"FETCH_FORECAST_LIST_FULFILLED",payload:{rawList:n.list,cityName:r.cityName,current:r.currentWeather,hourlyForecast:r.HourlyForecastSummaryList,weeklyForecast:r.weeklyForecastFormatted}});case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}}})(St);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Nt=n(10),Rt=n(36),It=n(23),At={list:[],current:{},city:"",weeklyForecast:[],hourlyForecast:[]},Ut=Object(Nt.c)({forecast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_FORECAST_LIST_FULFILLED":return Object(It.a)({},t,{list:e.payload.rawList,city:e.payload.cityName,weeklyForecast:e.payload.weeklyForecast,hourlyForecast:e.payload.hourlyForecast,current:e.payload.current});case"UPDATE_CURRENT_FORECAST_FULFILLED":var n=m.getHourlyForecast(t.list,e.payload.current);return Object(It.a)({},t,{current:e.payload.current,hourlyForecast:n});default:return t}}}),Wt=[Rt.a],zt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:Nt.d)(Nt.a.apply(void 0,Wt));return Object(Nt.e)(Ut,t,e)}({});i.a.render(a.a.createElement(b.a,{store:zt},a.a.createElement(Dt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.2b756b8a.chunk.js.map